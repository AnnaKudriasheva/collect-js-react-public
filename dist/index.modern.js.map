{"version":3,"file":"index.modern.js","sources":["../src/state.ts","../src/Form.tsx","../src/Fields.tsx"],"sourcesContent":["// I don;t like this solution, we need to improve it \nlet form = {}\n\nconst setFormState = (newVal:any) => {\n  form = newVal\n}\n\nconst getFormState = () => form\n\nexport {\n  setFormState,\n  getFormState,\n}","import React from 'react';\nimport { setFormState, getFormState } from \"./state\";\n\ninterface Collect {\n  create: Function;\n}\n\ndeclare global {\n  interface Window {\n    VGSCollect: Collect;\n  }\n}\n\nexport const CollectForm = (props: any) => {\n  const { vaultId, environment, submitParameters } = props\n  \n  const form:any =  window.VGSCollect.create(vaultId, environment, (state: any) => {\n    props.onUpdateCallback(state)\n  })\n\n  setFormState(form)\n\n  const submitHandler = (event:any) => {\n    event.preventDefault()\n    const form: any = getFormState()\n    form.submit(\"/post\", submitParameters, (status: any, resp: any) => {\n      props.onSubmitCallback(status, resp)\n    })\n  }\n  return(\n    <form onSubmit={(event) => {submitHandler(event)}}>\n      {props.children}\n    </form>\n  )\n}\n","import React from 'react';\nimport { useEffect } from \"react\";\nimport { getFormState } from \"./state\";\n\nconst RenderField = (props: any) => {\n  const { id, name, placeholder, validations, css, successColor } = props\n  const { type } = props\n  useEffect(() => {\n    const form: any = getFormState()\n    form.field(`#${id}`, {\n      type, \n      name,\n      validations,\n      placeholder,\n      css,\n      successColor\n    })    \n  }, [])\n  \n  return(\n    <div id={id}></div>\n  )\n}\ninterface ITextField {\n  id: string;\n\n  name: string;\n  validations: Array<string>;\n  placeholder: string\n}\n\nconst TextField = (props: ITextField) => {\n  // const id = generateId()\n  let defaultParams = {\n    type: \"text\", \n  }\n  return (\n    <RenderField\n      {...Object.assign(defaultParams, props)}\n    />\n  )\n}\n\nconst CardNumberField = (props: any) => {\n  // const id = generateId()\n  let defaultParams = {\n    type: \"card-number\", \n  }\n  \n  return (\n    <RenderField\n      {...Object.assign(defaultParams, props)}\n    />\n  )  \n}\n\nconst CardExpirationDateField = (props: any) => {\n  let defaultParams = {\n    type: \"card-expiration-date\", \n  }\n  return (\n    <RenderField\n      {...Object.assign(defaultParams, props)}\n    />\n  )  \n}\nconst CardSecurityCodeField = (props: any) => {\n  let defaultParams = {\n    type: \"card-security-code\", \n  }\n  return (\n    <RenderField\n      {...Object.assign(defaultParams, props)}\n    />\n  )  \n}\nconst PasswordField = (props: any) => {\n  let defaultParams = {\n    type: \"password\", \n  }\n  return (\n    <RenderField\n      {...Object.assign(defaultParams, props)}\n    />\n  )  \n}\n\nconst TextareaField = (props: any) => {\n  let defaultParams = {\n    type: \"textarea\", \n  }\n  return (\n    <RenderField\n      {...Object.assign(defaultParams, props)}\n    />\n  )  \n}\n\n\nexport {\n  TextField,\n  CardNumberField,\n  CardExpirationDateField,\n  CardSecurityCodeField,\n  PasswordField,\n  TextareaField,\n}"],"names":["form","setFormState","newVal","getFormState","CollectForm","props","vaultId","environment","submitParameters","window","VGSCollect","create","state","onUpdateCallback","submitHandler","event","preventDefault","submit","status","resp","onSubmitCallback","React","onSubmit","children","RenderField","id","name","placeholder","validations","css","successColor","type","useEffect","field","TextField","defaultParams","Object","assign","CardNumberField","CardExpirationDateField","CardSecurityCodeField","PasswordField","TextareaField"],"mappings":"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"}